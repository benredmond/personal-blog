/* ABOUTME: Scandinavian Strata design system for blog posts */
/* ABOUTME: Pure whitespace separation, typography-first, vermilion underlines */

/* ============================================================================
   Scandinavian Strata System
   - No borders, pure Ma spacing
   - Typography as primary architectural element
   - Vermilion underlines for visual accent
   - Settle-in animation instead of construction
   ============================================================================ */

/* Post container - clean, no borders */
.post {
  position: relative;
  margin-bottom: var(--ma-5); /* 80px between posts */
  opacity: 0;
  transform: translateY(8px);
  animation: settleIn 400ms var(--construct-ease-out) forwards;
}

/* Stagger animation based on index */
.post:nth-child(1) { animation-delay: 0ms; }
.post:nth-child(2) { animation-delay: 100ms; }
.post:nth-child(3) { animation-delay: 200ms; }
.post:nth-child(4) { animation-delay: 300ms; }
.post:nth-child(5) { animation-delay: 400ms; }
.post:nth-child(6) { animation-delay: 500ms; }

/* Metadata container */
.metadata {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 16px; /* 2x baseline */
  margin-bottom: 16px; /* 2x baseline, --ma-0 */
  font-family: var(--font-sans-en);
  font-size: 12px; /* var(--font-size-tiny) */
  line-height: 1.4;
  color: var(--color-text-secondary);
  font-variant: small-caps;
  letter-spacing: 0.03em; /* Reduced from 0.05em for Cabinet Grotesk */
}

/* Category tag - bordered, not filled */
.category {
  padding: 4px 8px;
  border: 2px solid var(--color-vermilion);
  color: var(--color-vermilion);
  font-family: var(--font-sans-en);
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 11px;
  transition: background-color 200ms, color 200ms;
}

.category:hover {
  background-color: var(--vermilion-5);
}

/* Date styling */
.date {
  color: var(--color-text-secondary);
}

/* Read time */
.readTime {
  color: var(--color-text-secondary);
}

/* Title with vermilion underline */
.title {
  position: relative;
  font-size: 38px; /* var(--font-size-2xl) */
  line-height: 1.25;
  font-weight: 600; /* Lighter weight - more refined */
  margin: 0 0 24px 0; /* 0 0 var(--ma-1) 0 */
  color: var(--color-text-primary);
  padding-bottom: 12px; /* Space above underline */
  letter-spacing: -0.01em; /* Slight negative tracking */
}

/* Vermilion underline - core Strata element (40% width for restraint) */
.title::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 40%; /* Accent, not barrier */
  height: 2px;
  background-color: var(--color-vermilion);
  transition: width 200ms var(--construct-ease-mechanical);
}

/* Extend underline on hover */
.title:hover::after {
  width: 50%; /* Grows to 50% on hover */
}

/* Excerpt styling */
.excerpt {
  font-size: 18px; /* var(--font-size-body) */
  line-height: 1.6;
  margin: 0 0 16px 0; /* 0 0 var(--ma-0) 0 */
  color: var(--color-text-primary);
}

/* Continue reading link */
.continueReading {
  display: inline-flex;
  align-items: center;
  font-family: var(--font-sans-en);
  font-size: 16px;
  font-weight: 500;
  color: var(--color-ultramarine);
  text-decoration: none;
  transition: color 200ms;
}

.continueReading:hover {
  color: var(--color-vermilion);
}

.continueReading::after {
  content: '→';
  margin-left: 6px;
  transition: transform 200ms var(--construct-ease-mechanical);
}

.continueReading:hover::after {
  transform: translateX(4px);
}

/* Settle-in animation - sedimentary, not constructional */
@keyframes settleIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================================================================
   Responsive Adjustments
   ============================================================================ */

/* Tablet (640px - 767px) */
@media (max-width: 767px) {
  .post {
    margin-bottom: var(--ma-4); /* 64px on tablet */
  }

  .title {
    font-size: 32px;
  }
}

/* Mobile (<640px) */
@media (max-width: 639px) {
  .post {
    margin-bottom: var(--ma-3); /* 48px on mobile */
  }

  .title {
    font-size: 32px; /* Increased from 28px for better readability */
  }

  .metadata {
    gap: 12px;
  }

  .excerpt {
    font-size: 18px; /* Increased from 16px - keep desktop size */
  }
}

/* ============================================================================
   Individual Post Page Styles
   ============================================================================ */

/* Back navigation */
.backNav {
  display: inline-flex;
  align-items: center;
  margin-bottom: 24px; /* var(--ma-1) */
  font-family: var(--font-sans-en);
  font-size: 16px;
  font-weight: 500;
  color: var(--color-ultramarine);
  text-decoration: none;
  transition: color 200ms;
}

.backNav:hover {
  color: var(--color-vermilion);
}

.backNav::before {
  content: '←';
  margin-right: 8px;
  transition: transform 200ms var(--construct-ease-mechanical);
}

.backNav:hover::before {
  transform: translateX(-4px);
}

/* Article container for individual post */
.article {
  opacity: 0;
  animation: settleIn 400ms var(--construct-ease-out) 100ms forwards;
}

/* Post metadata for detail page */
.postMetadata {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 16px;
  margin-bottom: 24px; /* var(--ma-1) */
  font-family: var(--font-sans-en);
  font-size: 12px;
  color: var(--color-text-secondary);
  font-variant: small-caps;
  letter-spacing: 0.03em; /* Reduced from 0.05em for Cabinet Grotesk */
}

/* H1 for individual post page */
.postTitle {
  position: relative;
  font-size: 42px; /* Refined from 50px - less shouty */
  line-height: 1.25;
  font-weight: 600; /* Lighter weight - more refined */
  margin: 0 0 48px 0; /* 0 0 var(--ma-3) 0 */
  color: var(--color-text-primary);
  padding-bottom: 16px;
  letter-spacing: -0.01em; /* Slight negative tracking */
}

.postTitle::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 40%; /* Accent, not barrier - matches home page hero */
  height: 2px;
  background-color: var(--color-vermilion);
  transition: width 200ms var(--construct-ease-mechanical);
}

/* Extend underline on hover */
.postTitle:hover::after {
  width: 50%; /* Grows to 50% on hover */
}

/* Markdown content styling */
.prose {
  font-size: 18px;
  line-height: 1.6;
  color: var(--color-text-primary);
  overflow-wrap: break-word;
  word-wrap: break-word;
  max-width: 100%;
}

.prose > * {
  max-width: 100%;
}

/* Prose headings */
.prose h1 {
  font-size: 38px;
  line-height: 1.2;
  font-weight: 700;
  margin: 48px 0 24px 0; /* var(--ma-3) 0 var(--ma-1) 0 */
}

.prose h2 {
  position: relative;
  font-size: 28px; /* Slightly smaller for better hierarchy */
  line-height: 1.3;
  font-weight: 700;
  margin: 48px 0 24px 0; /* More breathing room above */
  padding-bottom: 8px;
}

/* Vermilion accent under h2 - section anchor */
.prose h2::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 60px;
  height: 2px;
  background: var(--color-vermilion);
  opacity: 0.5;
}

.prose h3 {
  font-size: 21px; /* Refined size */
  line-height: 1.4;
  font-weight: 600;
  margin: 32px 0 16px 0; /* var(--ma-2) 0 var(--ma-0) 0 */
}

/* Prose paragraphs */
.prose p {
  margin-bottom: 24px; /* Increased from 16px for better breathing */
  line-height: 1.7; /* More generous line height for reading */
}

/* Prose links - ultramarine → vermilion with sliding underline */
.prose a {
  position: relative;
  color: var(--color-ultramarine);
  text-decoration: none;
  background-image: linear-gradient(to right, var(--color-ultramarine), var(--color-ultramarine));
  background-size: 0% 1px;
  background-repeat: no-repeat;
  background-position: left bottom;
  transition: background-size 200ms var(--construct-ease-mechanical),
              color 200ms var(--construct-ease-mechanical);
}

.prose a:hover {
  color: var(--color-vermilion);
  background-image: linear-gradient(to right, var(--color-vermilion), var(--color-vermilion));
  background-size: 100% 1px;
}

/* Prose lists - refined styling */
.prose ul,
.prose ol {
  margin: 24px 0; /* More generous spacing */
  padding-left: 32px; /* More indentation */
  line-height: 1.7;
}

/* Restore list styles (Tailwind Preflight removes them) */
.prose ul {
  list-style-type: disc;
}

.prose ol {
  list-style-type: decimal;
}

.prose li {
  margin-bottom: 12px; /* More space between items */
  padding-left: 8px; /* Subtle padding */
}

/* Custom bullet styling for ul - using simple color without opacity */
.prose ul li::marker {
  color: #ff3a2d; /* Vermilion directly, no opacity (not supported on ::marker) */
}

/* Ordered list numbers */
.prose ol li::marker {
  color: var(--color-text-secondary);
  font-weight: 600;
}

/* Nested lists */
.prose li > ul,
.prose li > ol {
  margin: 12px 0;
}

/* Prose code - inline */
.prose code {
  font-family: var(--font-mono-en);
  font-size: 0.9em;
  background: var(--vermilion-5);
  padding: 2px 6px;
  color: var(--color-text-primary);
}

/* Prose code blocks */
.prose pre {
  background: var(--color-off-white);
  padding: 24px; /* var(--ma-1) */
  margin: 24px 0;
  overflow-x: auto;
  border: 1px solid var(--color-light-gray);
  max-width: 100%;
}

.prose pre code {
  background: none;
  padding: 0;
  font-size: 14px;
}

/* Prose blockquotes */
.prose blockquote {
  border-left: 4px solid var(--color-vermilion);
  padding-left: 24px; /* var(--ma-1) */
  margin: 24px 0;
  font-style: italic;
  color: var(--color-text-secondary);
}

/* Prose tables - Scandinavian Restraint styling */
.prose table {
  width: 100%;
  margin: 32px 0; /* var(--ma-2) - generous spacing */
  border-collapse: collapse;
  font-size: 16px;
  line-height: 1.6;
  overflow-x: auto;
  display: block;
}

.prose thead {
  border-bottom: none;
}

.prose th {
  position: relative;
  padding: 12px 16px 16px 16px; /* Extra bottom padding for underline */
  text-align: left;
  font-weight: 700; /* Bolder weight without background */
  font-size: 16px;
  letter-spacing: 0.02em; /* Subtle breathing room */
  color: var(--color-text-primary);
  background: transparent;
}

/* Partial vermilion underline (40% width, left-aligned) - matches title underlines */
.prose th::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 16px; /* Aligned with text padding */
  width: 40%; /* Matches your title underlines */
  height: 2px;
  background: var(--color-vermilion);
  transition: width 200ms var(--construct-ease-mechanical);
}

.prose td {
  padding: 16px;
  border: none; /* Pure whitespace separation */
  color: var(--color-text-primary);
}

/* Hover: underline extends to 50% */
.prose tbody tr:hover th::after {
  width: 50%;
}

/* Add subtle Ma spacing between rows via transparent border */
.prose tbody tr {
  border-bottom: 8px solid transparent;
}

/* Responsive tables */
@media (max-width: 639px) {
  .prose table {
    font-size: 14px;
  }

  .prose th,
  .prose td {
    padding: 12px;
  }

  .prose th::after {
    left: 12px; /* Adjust for mobile padding */
  }
}

/* Prose images */
.prose img {
  max-width: 100%;
  height: auto;
  margin: 32px 0; /* var(--ma-2) */
  display: block;
  border: 1px solid var(--color-light-gray);
}

/* Author bio spacing */
.authorBioWrapper {
  margin-top: 80px; /* var(--ma-5) - generous separation */
}

/* Mobile adjustments for post page */
@media (max-width: 639px) {
  .postTitle {
    font-size: 30px; /* Reduced for mobile - prevents text being too wide */
  }

  .prose {
    font-size: 18px; /* Maintain desktop size - don't reduce on mobile */
  }

  .prose h1 {
    font-size: 34px; /* Increased from 32px */
  }

  .prose h2 {
    font-size: 26px; /* Slightly reduced from 28px but still readable */
  }

  .prose h3 {
    font-size: 20px; /* Slightly reduced from 21px */
  }

  .prose pre {
    padding: 16px; /* Reduce padding on mobile to prevent overflow */
  }
}
